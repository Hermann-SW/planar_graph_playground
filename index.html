<!DOCTYPE html>
<html>
<head>
</head>
<body>

<script src="assert.js"> </script>
<script src="gauss-jordan.js"> </script>
<script src="undirected_graph.js"> </script>
<script src="tutte.js"> </script>

<div><form action="alert('foobar')" id="myForm">
<select id="frm" size="1"">
  <option selected value="C20">C20</option>
  <option value="C30">C30</option>
  <option value="C40">C40</option>
  <option value="C50">C50</option>
  <option value="C60">C60</option>
  <option value="C70">C70</option>
</select>
</form> </div>
<div><label for="myRange">factor: </label><input type="range" min="50" max="120" value="100" id="myRange"></div>
<div><label for="myRange2">size: </label><input type="range" min="500" max="1800" value="800" id="myRange2"></div>

<script>

F=[
  [[9,10,1],[0,2,15],[1,14,3],[2,4,16],[3,13,5],[4,6,17],[5,12,7],[6,8,18],[7,11,9],[8,0,19],[0,11,14],[10,8,12],[11,6,13],[12,4,14],[13,2,10],[1,16,19],[15,3,17],[16,5,18],[17,7,19],[18,9,15]],
  [[9,10,1],[0,2,25],[1,18,3],[2,4,26],[3,16,5],[4,6,27],[5,14,7],[6,8,28],[7,12,9],[8,0,29],[0,11,19],[10,12,21],[11,8,13],[12,14,22],[13,6,15],[14,16,23],[15,4,17],[16,18,24],[17,2,19],[18,10,20],[19,21,24],[20,11,22],[21,13,23],[22,15,24],[23,17,20],[1,26,29],[25,3,27],[26,5,28],[27,7,29],[28,9,25]],
  [[9,10,1],[0,2,35],[1,18,3],[2,4,36],[3,16,5],[4,6,37],[5,14,7],[6,8,38],[7,12,9],[8,0,39],[0,11,19],[10,12,22],[11,8,13],[12,14,24],[13,6,15],[14,16,26],[15,4,17],[16,18,28],[17,2,19],[18,10,20],[19,21,29],[20,22,31],[21,11,23],[22,24,32],[23,13,25],[24,26,33],[25,15,27],[26,28,34],[27,17,29],[28,20,30],[29,31,34],[30,21,32],[31,23,33],[32,25,34],[33,27,30],[1,36,39],[35,3,37],[36,5,38],[37,7,39],[38,9,35]],
  [[9,10,1],[0,2,45],[1,18,3],[2,4,46],[3,16,5],[4,6,47],[5,14,7],[6,8,48],[7,12,9],[8,0,49],[0,11,19],[10,12,22],[11,8,13],[12,14,24],[13,6,15],[14,16,26],[15,4,17],[16,18,28],[17,2,19],[18,10,20],[19,21,29],[20,22,32],[21,11,23],[22,24,34],[23,13,25],[24,26,36],[25,15,27],[26,28,38],[27,17,29],[28,20,30],[29,31,39],[30,32,41],[31,21,33],[32,34,42],[33,23,35],[34,36,43],[35,25,37],[36,38,44],[37,27,39],[38,30,40],[39,41,44],[40,31,42],[41,33,43],[42,35,44],[43,37,40],[1,46,49],[45,3,47],[46,5,48],[47,7,49],[48,9,45]],
  [[17,18,1],[0,2,39],[1,31,3],[2,4,40],[3,29,5],[4,6,42],[5,28,7],[6,8,44],[7,26,9],[8,10,45],[9,24,11],[10,12,47],[11,23,13],[12,14,49],[13,21,15],[14,16,50],[15,19,17],[16,0,52],[0,19,32],[18,16,20],[19,21,34],[20,14,22],[21,23,35],[22,12,24],[23,10,25],[24,26,36],[25,8,27],[26,28,37],[27,6,29],[28,4,30],[29,31,38],[30,2,32],[31,18,33],[32,34,38],[33,20,35],[34,22,36],[35,25,37],[36,27,38],[37,30,33],[1,40,53],[39,3,41],[40,42,55],[41,5,43],[42,44,56],[43,7,45],[44,9,46],[45,47,57],[46,11,48],[47,49,58],[48,13,50],[49,15,51],[50,52,59],[51,17,53],[52,39,54],[53,55,59],[54,41,56],[55,43,57],[56,46,58],[57,48,59],[58,51,54]],
  [[19,20,1],[0,2,48],[1,36,3],[2,4,49],[3,34,5],[4,6,51],[5,32,7],[6,8,52],[7,30,9],[8,10,54],[9,29,11],[10,12,56],[11,27,13],[12,14,57],[13,25,15],[14,16,59],[15,23,17],[16,18,60],[17,21,19],[18,0,62],[0,21,37],[20,18,22],[21,23,39],[22,16,24],[23,25,40],[24,14,26],[25,27,42],[26,12,28],[27,29,43],[28,10,30],[29,8,31],[30,32,44],[31,6,33],[32,34,45],[33,4,35],[34,36,47],[35,2,37],[36,20,38],[37,39,47],[38,22,40],[39,24,41],[40,42,46],[41,26,43],[42,28,44],[43,31,45],[44,33,46],[45,47,41],[46,35,38],[1,49,63],[48,3,50],[49,51,65],[50,5,52],[51,7,53],[52,54,66],[53,9,55],[54,56,67],[55,11,57],[56,13,58],[57,59,68],[58,15,60],[59,17,61],[60,62,69],[61,19,63],[62,48,64],[63,65,69],[64,50,66],[65,53,67],[66,55,68],[67,58,69],[68,61,64]]
];

down=-1;
function clck(v){
  if (down<0) down=v; else { doit(G, down, v); down=-1; }
}

function doi(x){
  G=F[x];
  doit(G, G[7][G[7].length-1], 7);
}

function doit(G, v, w){
  down=-1;
  face = traverse_face(G, v, w);
  console.log(face);

  slider = document.getElementById("myRange").value;
  slider2 = document.getElementById("myRange2").value;
  selInd = document.forms[0].elements[0].selectedIndex;

  coords = tutte(G, face, slider/100.0);
  l = slider2;
  r = 12;

  document.body.innerHTML = '';

  document.write('<div><form id="myForm">');
  document.write('<select id="frm" size="1" onInput="javascript:doi(document.forms[0].elements[0].selectedIndex)">');
  document.write('  <option '+((selInd==0)?"selected":"")+' value="C20">C20</option>');
  document.write('  <option '+((selInd==1)?"selected":"")+' value="C30">C30</option>');
  document.write('  <option '+((selInd==2)?"selected":"")+' value="C40">C40</option>');
  document.write('  <option '+((selInd==3)?"selected":"")+' value="C50">C50</option>');
  document.write('  <option '+((selInd==4)?"selected":"")+' value="C60">C60</option>');
  document.write('  <option '+((selInd==5)?"selected":"")+' value="C60">C70</option>');
  document.write('</select> <a href="https://github.com/Hermann-SW/planar_graph_playground#planar_graph_playground">planar_graph_playground github repo</a> hosting this tool');
  document.write('</form></div>');

  document.write('<div><label for="myRange">factor: </label><input type="range" min="50" max="120" value="'+slider+'" id="myRange" name="myRangeN" onInput="javascript:doi(selInd)"></div>');

  document.write('<div><label for="myRange2">size: </label><input type="range" min="500" max="5000" value="'+slider2+'" id="myRange2" onChange="javascript:doi(selInd)"></div>');

  document.write('<svg width="'+l+'" height="'+l+'">');
  document.write('<style> .l { stroke:black; stroke-width:2; fill:none; } </style>');

  forall_edges(G, function(v, w){
    cx=l/2+(l/2-r)*coords[0][v];
    cy=l/2+(l/2-r)*coords[1][v];
    dx=l/2+(l/2-r)*coords[0][w];
    dy=l/2+(l/2-r)*coords[1][w];
    document.write('<line class="l" x1="'+cx+'" y1="'+cy+'" x2="'+dx+'" y2="'+dy+'"></line>');
  })

  forall_vertices(G, function(v){
    cx=l/2+(l/2-r)*coords[0][v];
    cy=l/2+(l/2-r)*coords[1][v];
    document.write('<circle cx="'+cx+'" cy="'+cy+'" r="'+r+'" stroke="black" fill="white"></circle>');
    document.write('<text onclick="clck('+v+')" x="'+cx+'" y="'+(cy+1)+'" alignment-baseline="middle" text-anchor="middle">'+(v+1)+'</text>');
  })

  document.write('</svg>');
}

G=F[0];
doit(G, G[7][G[7].length-1], 7);
</script>



</body>
</html>
